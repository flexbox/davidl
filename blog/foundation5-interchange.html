<!DOCTYPE html><html lang=fr><head prefix="og: http://ogp.me/ns# dc: http://purl.org/dc/terms/"><meta charset=utf-8 /><meta content="width=device-width,initial-scale=1" name=viewport /><title>Foundation 5, interchange et Google maps</title><meta content="" name=description /><meta content="index,follow" name=robots /><meta content="David Leuliette" property="dc:creator"/><meta content="text/html" property="dc:format"/><meta content=fr-FR property="dc:language"/><meta content="davidl • design & développement" property="og:site_name"/><meta content=website property="og:type"/><meta content="http://davidl.fr/blog/foundation5-interchange.html" property="og:url"/><meta content="Foundation 5, interchange et Google maps" property="og:title"/><meta content="Je crée des sites internet qui fonctionnent à merveille sur n’importe quel appareil. Designer spécialisé HTML et CSS basé à Lille" property="og:description"/><meta content="" property="og:image"/><meta content="50.629250;3.057256" name="geo.position"/><meta content="Lille, Nord" name="geo.placename"/><meta content=FR-59 name="geo.region"/><meta content="@_flexbox" name="twitter:site"/><meta content="Foundation 5, interchange et Google maps" name="twitter:title"/><meta content="Je crée des sites internet qui fonctionnent à merveille sur n’importe quel appareil. Designer spécialisé HTML et CSS basé à Lille" name="twitter:description"/><meta content=summary name="twitter:card"/><meta content="" name="twitter:image"/><meta content="Foundation 5, interchange et Google maps" itemprop=name /><meta content="Je crée des sites internet qui fonctionnent à merveille sur n’importe quel appareil. Designer spécialisé HTML et CSS basé à Lille" itemprop=description /><meta content="" itemprop=image /><link href="https://plus.google.com/+DavidLeulietteWeb" rel=publisher /><link href="/feed.xml" rel=alternate title="davidl • design & développement" type="application/rss+xml"/><meta content=yes name=mobile-web-app-capable /><meta content="davidl • design & développement" name=application-name /><link href="/chrome-touch-icon-192x192.png" rel=icon sizes=192x192 /><meta content=yes name=apple-mobile-web-app-capable /><meta content=black name=apple-mobile-web-app-status-bar-style /><meta content="davidl • design & développement" name=apple-mobile-web-app-title /><link href="/apple-touch-icon.png" rel=apple-touch-icon /><meta content="ms-touch-icon-144x144-precomposed.png" name=msapplication-TileImage /><meta content="#607D8B" name=msapplication-TileColor /><meta content="#607D8B" name=theme-color /><link href="/favicon-196x196.png" rel=icon sizes=196x196 type="image/png"/><link href="/favicon-160x160.png" rel=icon sizes=160x160 type="image/png"/><link href="/favicon-96x96.png" rel=icon sizes=96x96 type="image/png"/><link href="/favicon-32x32.png" rel=icon sizes=32x32 type="image/png"/><link href="/favicon-16x16.png" rel=icon sizes=16x16 type="image/png"/><link href="../assets/stylesheets/application-5ef0ccc5.css" rel=stylesheet /><link href="https://netdna.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel=stylesheet /></head><body class=" blog blog_foundation5-interchange"><header class=m-topbar id=js-topbar role=banner><nav aria-label=Primary class="m-topbar--list js-topbar--list is-away" role=navigation><a class=m-topbar--logo title="Retour à l’accueil" href="/"><img alt="davidl intégrateur web &amp; développeur front-end lille" src="../assets/images/atom-logo-4a5eee23.svg"/></a><a href="/consulting/">Consulting</a><a href="/about.html">À propos</a><a href="/blog/">Blog</a><a href="/contact.html">Contact</a></nav><div class=m-topbar--form id=js-topbar--form><a id=js-topbar--button class=l-menu href="#"><span>Menu</span></a><form action="http://www.google.com/search" class="l-search-form is-hidden" method=get><input id=js-search-input name=q placeholder="Ex : Conseils et bonnes pratiques" type=search /><input name=sitesearch type=hidden value="http://davidl.fr"/></form><a id=js-topbar--search class=l-action href="#"><i class="fa fa-search"></i></a><a id=js-topbar--close class="l-action is-hidden" href="#"><i class="fa fa-close"></i></a></div></header><div class=m-content role=main><header class=m-hero-banner><div class=row><h1 class=l-title>Utiliser interchange pour charger dynamiquement le bon HTML pour le bon navigateur</h1></div></header><div class=row><div class="medium-12 columns"><div class="m-panel l-blog-date"><i class="fa fa-calendar i-custom fa-lg"></i><time datetime=2014-01-24 pubdate="">24/01/2014</time></div></div></div><article class=row itemscope="" itemtype="http://schema.org/BlogPosting" role=article><div class="medium-8 medium-centered columns m-blog--article" itemprop=articleBody><p>Dans le framework foundation <a href="http://foundation.zurb.com/docs/components/visibility.html">les classes de visibilité</a> permettent d'afficher ou de masquer des éléments qui sont pertinent en fonction des appareils. Par exemple, j’affiche une petite image sur un téléphone et une version plus grande pour les ordinateurs. Dans un autre cas je souhaite masquer le menu de navigation au profit de petites icônes. Les classes de visibilité permettent de masquer les éléments inappropriés pour chaque <code>viewport</code>.</p> <p>Le problème c’est que les utilisateurs doivent télécharger les 2 versions. C’est une perte de temps, de mémoire navigateur et de bande passante. Interchange permet de régler ce problème et c’est la façon la plus simple de sélectionner du contenu basé sur vos <code>mediaquery</code> Avec interchange chaque navigateur télécharge ce qu’il ont besoin non pas ce qu’iil est possible de télécharger. Dans cet article je vais expliquer comment mettre en place cette solution pour utiliser interchange avec votre contenu HTML.</p> <p>Pour voir un exemple, je vous invite à visiter le site de cet <a href="http://chambredesanges.be/">chambre d’hôte</a> à Bruxelles. Le contenu de ce site est <a href="https://github.com/css-ninja/chamber">disponible sur github</a>.</p> <h2 id=conventions-et-mises-en-garde>Conventions et mises en garde</h2> <p>Interchange est assez souple, mais pour des raisons pratiques j’ai placé le contenu chargé par interchange dans le <a href="https://github.com/css-ninja/chamber/tree/master/source">dossier source</a> qui sera à la racine de mon site web. Pour une grosse application il est impératif d’architecturer correctement vos vues.</p> <h2 id=contenu-interactif>Contenu interactif</h2> <p>Dans cet exemple, j’utilise interchange pour :</p> <ul> <li>Afficher une image statique par défaut</li> <li>Afficher une google map interactive pour les écrans larges</li> </ul> <p>Je sépare ces vues dans 2 fichiers <code>maps-small.html.slim</code> et <code>maps-medium.html.slim</code></p> <p>Avec interchange je charge ce contenu dans ma vue <code>_map.html.slim</code></p> <p><a href="https://github.com/css-ninja/chamber/blob/master/source/maps-small.html.slim">maps-small.html.slim</a> : Charge le contenu par défaut</p> <p><a href="https://github.com/css-ninja/chamber/blob/master/source/maps-medium.html.slim">maps-medium.html.slim</a> : Chargez ce contenu sur grand écran (dans cet exemple avec une largeur supérieure à 600px) Commençons en activant interchange sur notre page. Nous allons ajouter un texte par défaut "Chargement de la carte …" :</p> <pre class="highlight html"><code>    <span class="nt">&lt;div</span> <span class="na">data-interchange=</span><span class="s">""</span><span class="nt">&gt;</span>
      Chargement de la carte...
    <span class="nt">&lt;/div&gt;</span>
</code></pre> <p>Ensuite, nous allons modifier <code>data-interchange</code> pour lui dire quel est le contenu à charger en fonction de la <code>mediaquery</code></p> <pre class="highlight html"><code>    <span class="nt">&lt;div</span> <span class="na">data-interchange=</span><span class="s">"[maps-small.html, (default)], [maps-medium.html, (large)]"</span><span class="nt">&gt;</span>
      Chargement de la carte...
    <span class="nt">&lt;/div&gt;</span>
</code></pre> <p>Et voilà, la magie opère ! Regardez <a href="http://chambredesanges.be/">cet exemple pour voir la carte</a>.</p> <h2 id=visibilit>Visibilité</h2> <p>Il y a des cas où vous souhaitez uniquement afficher certains contenus en fonction des tailles d'écran. Imaginez une galerie de photos. Avec <a href="http://foundation.zurb.com/docs/components/visibility.html">les classes de visibilité</a>, vous pouvez masquer le contenu, mais il sera téléchargé en arrière-plan. Niveau performance c'est zéro !</p> <p>Avec interchange, il est possible de montrer / charger du contenu seulement sur les appareils appropriés. Pour afficher notre site plus rapidement sur les petits écrans, il est possible de ne rien télécharger.</p> <p>Dans ce cas notre vue <code>image_gallery.html.slim</code> est un carousel avec beaucoups d'images. Pour le charger sur de grands écrans il suffit d'écrire le code suivant :</p> <pre class="highlight html"><code>    <span class="nt">&lt;div</span> <span class="na">data-interchange=</span><span class="s">"[image_gallery.html, (large)]"</span><span class="nt">&gt;</span>
      ...
    <span class="nt">&lt;/div&gt;</span>
</code></pre> <p>NOTE : Si vous redimensionnez la fenêtre après que le contenu soit chargé, il ne sera pas automatiquement supprimé. Cela se produit s'il n'y a pas de requête de média correspondant.</p> <div class=row><div class="medium-8 medium-centered columns"><aside class=m-blog-panel itemprop=author itemscope="" itemtype="http://schema.org/Person" role=complementary><p><strong>Publié par <a href="https://plus.google.com/+DavidLeulietteWeb?rel=author" itemprop=name>David Leuliette</a><span itemprop=jobTitle>consultant développeur front-end.</span></strong></p><hr/><div class=row><div class="small-3 columns"><a class=l-avatar href="/about.html"><img itemprop=image alt="Avatar Aperture Science" src="../assets/images/front/aperture-science-avatar-da9be508.jpg"/></a></div><div class="small-9 columns"><p>J’aime travailler avec les technologies web et le faire de la bonne façon. En tant qu’<strong itemprop=title>évangéliste open source</strong>, je partage mes bonnes pratiques avec le plus grand nombre. </p></div></div><div class=l-footer><a href="https://twitter.com/_flexbox"><i class="fa fa-fw fa-twitter"></i><span itemprop=nickname>@_flexbox </span>sur twitter </a><a href="/feed.xml"><i class="fa fa-fw fa-rss"></i>S’incrire au flux RSS </a></div></aside></div></div></div></article></div><div class=m-footer--section><div class=row><div class="medium-10 medium-centered columns"><nav class=row role=navigation><div class="small-6 medium-3 columns"><ul class=m-footer--side-nav role=menubar><li class=l-title>Outils</li><li role=menuitem><a title="Logiciels pour le développement et l’intégration web" href="/toolkit.html">Applications</a></li><li role=menuitem><a title="Mes projets" href="/projects.html">Open source</a></li><li role=menuitem><a title="Mes engagements envers le web" href="/manifesto.html">Manifeste</a></li><li role=menuitem><a title="Méthode pour le design de sites internet" href="/webdesign.html">Responsive</a></li></ul></div><div class="small-6 medium-3 columns"><ul class=m-footer--side-nav role=menubar><li class=l-title>Ressources</li><li role=menuitem><a title="Publication d'articles sur l'intégration &amp; le développement front-end" href="/blog/">Blog</a></li><li role=menuitem><a title="conseils de lecture" href="/books.html">Bibliothèque</a></li><li role=menuitem><a title="conseils sur la typographie pour le web" href="/typography.html">Typographie</a></li><li role=menuitem><a title="Liste de personnes à suivre" href="/mentors.html">Mentors</a></li></ul></div><div class="small-6 medium-3 columns"><ul class=m-footer--side-nav role=menubar><li class=l-title>À propos</li><li role=menuitem><a title="Je peux vous aider" href="/about.html">En savoir plus</a></li><li role=menuitem><a title="Licence du site &amp; hébergement" href="/legal.html">Mentions légales</a></li><li role=menuitem><a href="/gnu.html">GNU/GPL</a></li><li role=menuitem><a title="Cliquez si vous êtes perdus" href="/sitemap.html">Plan du site</a></li></ul></div><div class="small-6 medium-3 columns"><ul class=m-footer--side-nav role=menubar><li class=l-title>Contact</li><li role=menuitem><a title="Je lis TOUS mes emails" href="/contact.html">Contact</a></li><li role=menuitem><a title="Je réponds chaque semaine à une question" href="/ask-me.html">Une question ?</a></li><li role=menuitem><a title="Vous pouvez m’enbaucher" href="/work.html">Services</a></li><li role=menuitem><a title="Suivre l’évolution de mes services" href="/newsletter.html">Newsletter</a></li></ul></div></nav></div></div></div><footer class=m-footer role=contentinfo><div class=row><div class="medium-8 medium-centered columns"><p class=m-footer--title>Améliorer vos compétences</p><p>Recevez mes conseils en développement front-end. Ne vous inquétez pas je déteste le spam, il suffit d'un clic pour se désabonner.</p><form action="http://davidl.us3.list-manage2.com/subscribe/post?u=b72e60a9116993dde8d1547fe&amp;id=e99fbeb8ad" method=post name=mc-embedded-subscribe-form target=_blank><div class=row><div class="small-12 columns"><label for=js-mailchimpemail>S’abonner pour ne pas manquer les nouvelles publications </label></div></div><div class=row><div class="small-8 columns"><input autocapitalize=none autocorrect=off class=m-mailchimpemail id=js-mailchimpemail name=EMAIL placeholder="youare@weso.me" required="" type=email /><div class=hide><input name=b_b72e60a9116993dde8d1547fe_e99fbeb8ad type=text /></div></div><div class="small-4 columns"><button class="button postfix" id=mc-embedded-subscribe name=subscribe type=submit>S’inscrire </button></div></div></form></div></div><hr/><p class=l-text>Ce site open source est hébergé sur <a href="https://github.com/flexbox/davidl">GitHub</a>. Patches, suggestions et commentaires sont les bienvenus. <br/>davidl.fr est rédigé et administré par <a href="/human.txt">David Leuliette</a>. Dernière mise à jour le <time datetime=2016-03-16>16/03/2016. </time></p></footer><script src="../assets/javascripts/application-fd90a7c9.js"></script><script>!function(e,a,n,t,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(n),s=a.getElementsByTagName(n)[0],o.async=1,o.src=t,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-46684635-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");</script></body></html>