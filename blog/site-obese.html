<!DOCTYPE html><html lang=fr prefix="og: http://ogp.me/ns#"><head profile="http://dublincore.org/documents/dcq-html/"><meta charset=utf-8 /><meta content="width=device-width,initial-scale=1" name=viewport /><title>Performance site internet : Astuces et bonnes pratiques</title><meta content="Voici diff√©rentes techniques pour am√©liorer la vitesse de navigation sur votre site internet. Elles sont class√©es par ordre de complexit√© de la plus simple et rapide √† mettre en place √† la plus compliqu√©e" name=description /><meta content="index,follow" name=robots /><meta content="David Leuliette" property="dc:creator"/><meta content="text/html" property="dc:format"/><meta content=fr-FR property="dc:language"/><meta content="davidl ‚Ä¢ design & d√©veloppement" property="og:site_name"/><meta content=website property="og:type"/><meta content="https://davidl.fr/blog/site-obese.html" property="og:url"/><meta content="Performance site internet : Astuces et bonnes pratiques" property="og:title"/><meta content="Voici diff√©rentes techniques pour am√©liorer la vitesse de navigation sur votre site internet. Elles sont class√©es par ordre de complexit√© de la plus simple et rapide √† mettre en place √† la plus compliqu√©e" property="og:description"/><meta content="https://lh3.googleusercontent.com/Sg3X0Z_H4hchMseGwWabHGM03ceDk-H257RWS3HjS1Oi5yI2rvCghMd1C_W4Sjg9bbCUukfflZSeUuYtrqjXZitRm3a558Vk1WcaF8oN9b_4bU7VnvGrAyt2AeObs6UGFT_DQ_SyNixoegeO_CWekLJz4j3ViJYNpze-GsGxcyUkRVXmK6h12c3mU94dOhpR_ruropNnzxdNt5DK3IuFf167wIWTVRI1JeZ3H5v1eTql5Hw3TjDfku8UaO3c04xxgjpyKp70QQKEHHuA4QLabDYALstOQkGk1MQOWgys333RDR6PInt1rt8nNFJWj7lgLTFlN-unkyupoLsEnTFu9RZrfvHI4Xajl9LI2B3aCvQ3829pyhbakNkk8TF4LmdoOyy8wCSgj5cZOw2IWvm1V3o7WTs1T2DtUxDFT7g9-s5PBFCtnVbxCKtUpfn0oamxKsaoKH38Ap-bhSf7-aRU1l9B7vNXNCeB06-aLT1-6XqjArUf4b0TVY7VRQIoodBeBfLolNN8_iWfaB8QXZNnNoXGR8ZY1V5d2suwYGaADG_3gdkLP-BYqDuki7LP5NnPYBvnHl8xGY8UgHt-g7yXn3TK6-8wtDWupBluhp-CFis5phVS=w1024-h512-no" property="og:image"/><meta content="50.629250;3.057256" name="geo.position"/><meta content="Lille, Nord" name="geo.placename"/><meta content=FR-59 name="geo.region"/><meta content="@_flexbox" name="twitter:site"/><meta content="Performance site internet : Astuces et bonnes pratiques" name="twitter:title"/><meta content="Voici diff√©rentes techniques pour am√©liorer la vitesse de navigation sur votre site internet. Elles sont class√©es par ordre de complexit√© de la plus simple et rapide √† mettre en place √† la plus compliqu√©e" name="twitter:description"/><meta content=summary_large_image name="twitter:card"/><meta content="https://lh3.googleusercontent.com/Sg3X0Z_H4hchMseGwWabHGM03ceDk-H257RWS3HjS1Oi5yI2rvCghMd1C_W4Sjg9bbCUukfflZSeUuYtrqjXZitRm3a558Vk1WcaF8oN9b_4bU7VnvGrAyt2AeObs6UGFT_DQ_SyNixoegeO_CWekLJz4j3ViJYNpze-GsGxcyUkRVXmK6h12c3mU94dOhpR_ruropNnzxdNt5DK3IuFf167wIWTVRI1JeZ3H5v1eTql5Hw3TjDfku8UaO3c04xxgjpyKp70QQKEHHuA4QLabDYALstOQkGk1MQOWgys333RDR6PInt1rt8nNFJWj7lgLTFlN-unkyupoLsEnTFu9RZrfvHI4Xajl9LI2B3aCvQ3829pyhbakNkk8TF4LmdoOyy8wCSgj5cZOw2IWvm1V3o7WTs1T2DtUxDFT7g9-s5PBFCtnVbxCKtUpfn0oamxKsaoKH38Ap-bhSf7-aRU1l9B7vNXNCeB06-aLT1-6XqjArUf4b0TVY7VRQIoodBeBfLolNN8_iWfaB8QXZNnNoXGR8ZY1V5d2suwYGaADG_3gdkLP-BYqDuki7LP5NnPYBvnHl8xGY8UgHt-g7yXn3TK6-8wtDWupBluhp-CFis5phVS=w1024-h512-no" name="twitter:image:src"/><meta content="@_flexbox" name="twitter:creator"/><meta content="Performance site internet : Astuces et bonnes pratiques" itemprop=name /><meta content="Voici diff√©rentes techniques pour am√©liorer la vitesse de navigation sur votre site internet. Elles sont class√©es par ordre de complexit√© de la plus simple et rapide √† mettre en place √† la plus compliqu√©e" itemprop=description /><meta content="https://lh3.googleusercontent.com/Sg3X0Z_H4hchMseGwWabHGM03ceDk-H257RWS3HjS1Oi5yI2rvCghMd1C_W4Sjg9bbCUukfflZSeUuYtrqjXZitRm3a558Vk1WcaF8oN9b_4bU7VnvGrAyt2AeObs6UGFT_DQ_SyNixoegeO_CWekLJz4j3ViJYNpze-GsGxcyUkRVXmK6h12c3mU94dOhpR_ruropNnzxdNt5DK3IuFf167wIWTVRI1JeZ3H5v1eTql5Hw3TjDfku8UaO3c04xxgjpyKp70QQKEHHuA4QLabDYALstOQkGk1MQOWgys333RDR6PInt1rt8nNFJWj7lgLTFlN-unkyupoLsEnTFu9RZrfvHI4Xajl9LI2B3aCvQ3829pyhbakNkk8TF4LmdoOyy8wCSgj5cZOw2IWvm1V3o7WTs1T2DtUxDFT7g9-s5PBFCtnVbxCKtUpfn0oamxKsaoKH38Ap-bhSf7-aRU1l9B7vNXNCeB06-aLT1-6XqjArUf4b0TVY7VRQIoodBeBfLolNN8_iWfaB8QXZNnNoXGR8ZY1V5d2suwYGaADG_3gdkLP-BYqDuki7LP5NnPYBvnHl8xGY8UgHt-g7yXn3TK6-8wtDWupBluhp-CFis5phVS=w1024-h512-no" itemprop=image /><meta content=91d66d0000fa49e8b4847bd46a399d25 name="p:domain_verify"/><link href="https://plus.google.com/+DavidLeulietteWeb" rel=publisher /><link href="/feed.xml" rel=alternate title="davidl ‚Ä¢ design & d√©veloppement" type="application/rss+xml"/><script>var host = "http://davidl.fr".replace(/http(s)?:\/\//g, "");
if ((host == window.location.host) && (window.location.protocol != "https:")) {
  window.location.protocol = "https";
}</script><script>!function(e,a,n,t,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(n),s=a.getElementsByTagName(n)[0],o.async=1,o.src=t,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-46684635-1","davidl.fr"),ga("send","pageview");</script><meta content=yes name=mobile-web-app-capable /><meta content="davidl ‚Ä¢ design & d√©veloppement" name=application-name /><link href="../chrome-touch-icon-192x192-0e1049a8.png" rel=icon sizes=192x192 /><meta content=yes name=apple-mobile-web-app-capable /><meta content=black name=apple-mobile-web-app-status-bar-style /><meta content="davidl ‚Ä¢ design & d√©veloppement" name=apple-mobile-web-app-title /><link href="../apple-touch-icon.png" rel=apple-touch-icon /><meta content="ms-touch-icon-144x144-precomposed.png" name=msapplication-TileImage /><meta content="#607D8B" name=msapplication-TileColor /><meta content="#607D8B" name=theme-color /><link href="../favicon-196x196-0e1049a8.png" rel=icon sizes=196x196 type="image/png"/><link href="../favicon-160x160-0e1049a8.png" rel=icon sizes=160x160 type="image/png"/><link href="../favicon-96x96-0e1049a8.png" rel=icon sizes=96x96 type="image/png"/><link href="../favicon-32x32-0e1049a8.png" rel=icon sizes=32x32 type="image/png"/><link href="../favicon-16x16-0e1049a8.png" rel=icon sizes=16x16 type="image/png"/><link href="../assets/stylesheets/application-6512f445.css" rel=stylesheet /><link href="https://fonts.googleapis.com/css?family=Chivo:900|Lato:400,900" rel=stylesheet /><link href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel=stylesheet /></head><body class=" blog blog_site-obese"><header class=m-topbar id=js-topbar role=banner><nav aria-label=Primary class="m-topbar--list js-topbar--list is-away" role=navigation><a href="/" class=m-topbar--logo title="Retour √† l‚Äôaccueil"><svg width=100 height=100 viewBox="0 0 100 100" role=img aria-label="D√©veloppeur front-end &amp; Int√©grateur web lille"> <g fill=none fill-rule=evenodd transform="translate(5 5)"> <path stroke="#11256C" stroke-linecap=round stroke-width=5 d="M72.2834646,21.2586207 C73.7716535,12.9568966 72.9212598,6.59482759 69.3779528,4.11206897 C68.1732283,3.25862069 66.7559055,2.87068966 65.1968504,2.94827586 C56.6220472,3.3362069 42.7322835,16.2931034 31.3937008,35.3793103 C18,58.0344828 13.1811024,80.6896552 20.7637795,86.0431034 C24.3779528,88.6034483 30.0472441,86.8189655 36.496063,81.7758621"/> <path stroke="#11256C" stroke-linecap=round stroke-width=5 d="M79.1574803,58.3448276 C85.5354331,55.6293103 89.4330709,51.9051724 89.6456693,47.637931 C90.1417323,37.7844828 70.5826772,28.7068966 45.9212598,27.3103448 C43.5826772,27.1551724 41.3149606,27.0775862 39.1181102,27.1551724 C17.6456693,27.2327586 0.921259843,33.6724138 0.496062992,42.5948276 C0.283464567,46.862069 3.82677165,50.9741379 9.8503937,54.387931"/> <path stroke="#11256C" stroke-linecap=round stroke-width=5 d="M38.976378,6.59482759 C34.5826772,2.63793103 30.5433071,0.543103448 27.2125984,0.775862069 C26.3622047,0.853448276 25.5826772,1.0862069 24.8031496,1.55172414 C16.7952756,5.97413793 19.3464567,29.1724138 30.5433071,53.2241379 C41.7401575,77.2758621 57.3307087,93.1810345 65.3385827,88.6810345 C73.0629921,84.4137931 70.9370079,62.8448276 60.8740157,39.8017241"/> <path fill="#F53FC7" fill-rule=nonzero d="M50.6692913,45.7758621 C50.6692913,48.989588 48.2897024,51.5948276 45.3543307,51.5948276 C42.418959,51.5948276 40.0393701,48.989588 40.0393701,45.7758621 C40.0393701,42.5621362 42.418959,39.9568966 45.3543307,39.9568966 C48.2897024,39.9568966 50.6692913,42.5621362 50.6692913,45.7758621 Z"/> </g> <desc>D√©veloppeur front-end &amp; Int√©grateur web lille</desc></svg> </a><a href="/blog/">‚ö° Articles</a><a href="/workflow/">üìò Guides</a><a class="typeform-share m-topbar--button" data-mode=popup href="https://flexbox.typeform.com/to/yzVxhi" target=_blank>ü§ì Book a dev</a></nav><div class=m-topbar--form id=js-topbar--form><a href="#" id=js-topbar--button class=l-menu><span>Menu</span></a><form action="https://www.google.com/search" class="l-search-form is-hidden" method=get><input id=js-search-input name=q placeholder="Ex : Sublime text" type=search /><input name=sitesearch type=hidden value="https://davidl.fr"/></form><a href="#" id=js-topbar--search class=l-action><i class="fa fa-search"></i></a><a href="#" id=js-topbar--close class="l-action is-hidden"><i class="fa fa-close"></i></a><a href="https://twitter.com/intent/follow?screen_name=_flexbox" target=_blank class=l-twitter-link><i class="fa fa-1x fa-twitter"></i></a></div></header><div role=main><header class="hero-banner rainbow"><div class=row><div class=column><h1 class=title>Votre site web est ob√®se</h1><p class=emphasis>Comment am√©liorer l‚Äôexp√©rience utilisateur avec un site rapide</p></div></div></header><div id=js-maincontent><article class="row m-blog-row" itemscope="" itemtype="http://schema.org/BlogPosting" role=article><aside class="small-12 medium-4 columns small-order-2 medium-order-1"><div class=blog-author itemprop=author itemscope="" itemtype="http://schema.org/Person" role=complementary><div class=avatar><img src="https://www.gravatar.com/avatar/66ecc55f1bc2e5863eb516ee6f20794e?size=250" itemprop=image alt="Avatar Aperture Science front-end developer"/></div><p><a class=name href="https://plus.google.com/+DavidLeulietteWeb?rel=author" itemprop=name>David Leuliette</a><a href="https://twitter.com/_flexbox" class=twitter-link><i class='fa fa-fw fa-twitter' aria-hidden=true></i>@_flexbox</a></p><p>David Leuliette est <span itemprop=jobTitle>consultant d√©veloppeur front-end.</span> Il aime Ruby, JavaScript, GitHub, le Growth Hacking et les chatbots‚Ä¶ mais pas n√©cessairement dans cet ordre. </p></div><hr/><div class=section><div class=acolyte>Stalkez votre prochain</div><div class=m-blog--follow-list><a href="https://twitter.com/_flexbox" class=twitter><i class='fa fa-twitter' aria-hidden=true></i></a><a href="https://www.linkedin.com/in/david-leuliette-456701121" class=linkedin><i class='fa fa-linkedin' aria-hidden=true></i></a><a href="https://github.com/flexbox" class=github><i class='fa fa-github' aria-hidden=true></i></a><a href="/feed.xml" class=rss><i class='fa fa-rss' aria-hidden=true></i></a></div></div><hr/><div class=section><div class=acolyte>Recevoir des nouvelles par email</div><form action="//davidl.us3.list-manage.com/subscribe/post?u=b72e60a9116993dde8d1547fe&amp;id=e99fbeb8ad" method=post name=mc-embedded-subscribe-form target=_blank><div class="row collapse"><div class="small-8 columns"><input autocapitalize=none autocorrect=off id=js-mailchimpemail name=EMAIL placeholder="youare@weso.me" required="" type=email /><div class=hide><input name=b_b72e60a9116993dde8d1547fe_e99fbeb8ad type=text /></div></div><div class="small-4 columns"><button class="button postfix" id=mc-embedded-subscribe name=subscribe type=submit>GO üöÄ </button></div></div></form></div><hr/><div class=section><div class=acolyte>Derniers articles</div><ul class=m-blog--post-list><li><a href="/blog/fabriks.html" class="blog-post-link truncate"><i class='fa fa-fw fa-caret-right' aria-hidden=true></i>Plateforme e-commerce ultra rapide avec React.js et Next.js</a></li><li><a href="/blog/react-native.html" class="blog-post-link truncate"><i class='fa fa-fw fa-caret-right' aria-hidden=true></i>1h30 de videos pour comprendre React Native et Redux</a></li><li><a href="/blog/london.html" class="blog-post-link truncate"><i class='fa fa-fw fa-caret-right' aria-hidden=true></i>Expatriation √† Londres</a></li><li><a href="/blog/atom.html" class="blog-post-link truncate"><i class='fa fa-fw fa-caret-right' aria-hidden=true></i>Atom pour les d√©veloppeurs JavaScript</a></li><li><a href="/blog/jamstack.html" class="blog-post-link truncate"><i class='fa fa-fw fa-caret-right' aria-hidden=true></i>Introduction √† JAMstack : JavaScript, API et Markup</a></li></ul></div><hr/><div class=section><div class=acolyte>Recherche sur le blog</div><form action="https://www.google.com/search" method=get><input name=q placeholder="Ex : Responsive design" type=search /><input name=sitesearch type=hidden value="https://davidl.fr/blog/"/></form></div></aside><div class="small-12 medium-8 columns m-blog--article small-order-1 medium-order-2" itemprop=articleBody><div class=row style="padding: 30px;"><div class="medium-10 columns"><p class=emperor>Performance site internet : Astuces et bonnes pratiques</p><p class=m-blog--article-infos><span class=text-tiny>Le</span> <time datetime=2014-05-21 pubdate="">21 May 2014</time> <span class=text-tiny>Par</span> <a href="/about.html">David Leuliette</a> <span class=text-tiny>‚Äî</span> <a href="https://github.com/flexbox/davidl/blob/master/source/blog/articles/2014-05-21-site-obese.html.md" target=_blank>Modifier l‚Äôarticle</a></p> <p>Certains d‚Äôentre vous ont s√ªrement connu l'√©poque du 56k. En ce temps l√†, charger une seule image sur internet pouvait demander plusieurs minutes. Puis est arriv√© l‚ÄôADSL et le haut d√©bit qui ont d√©multipli√© la vitesse de chargement. Bizarrement j‚Äôai l‚Äôimpression que nous passons toujours autant de temps √† attendre le chargement d‚Äôune page web.</p> <p><img src="https://farm6.staticflickr.com/5519/14256724243_9a829c4dd1_o.jpg" alt="Site internet ob√®se"/></p> <p>De nos jours les sites sont de plus en plus complexes, embarquent de plus en plus de contenu. Gr√¢ce √† la fibre optique ces derniers se chargent de plus en plus vite‚Ä¶ ‚Äî En th√©orie ‚Äî car paradoxalement le web √©volue vite, mais les sites web sont toujours aussi long √† charger.</p> <p>Il existe beaucoup d‚Äôoptions pour <strong>am√©liorer la performance de votre site internet</strong>. Pour vous aider √† d√©cider comment mettre en place ces solutions j‚Äôai d√©coup√© cet article en 3 parties :</p> <ul> <li>Geek</li> <li>Hacker</li> <li>Guru</li> </ul> <p>Chaque technique peut √™tre d√©ploy√©e partiellement, en partie ou pas du tout. Chaque palier peut vous aider lors du d√©veloppement de votre site suivant son niveau de complexit√©.</p> <h2 id=geek-de-la-performance>Geek de la performance</h2> <p>Les 2 choses les plus simples √† mettre en place rapidement sont la compression des fichiers et les en-t√™tes de cache. Ces techniques indispensables vous aiderons √† :</p> <ul> <li>R√©duire le poids des pages.</li> <li>R√©duire le nombre de requ√™tes http, et donc la latence.</li> </ul> <p>Puisque ces modifications ont lieu c√¥t√© serveur, elles am√©lioreront imm√©diatement les performances de chaque page.</p> <h3 id=activer-moddeflate-pour-la-compression-gzip-de-vos-fichiers>Activer <code>mod_deflate</code> pour la compression <code>Gzip</code> de vos fichiers</h3> <p>De la m√™me mani√®re que nous zippons nos pi√®ces jointes envoy√©es par email, votre serveur peut compresser les fichiers avant de les envoyer au navigateur. Pour <strong>pr√©server la bande passante</strong> de vos utilisateurs mobiles, il est capital de r√©duire le plus possible la taille de votre site.</p> <p>La librairie de compression pour Apache <code>mod_deflate</code> fonctionne uniquement sur des fichiers textes comme <code>HTML</code>, <code>CSS</code> et <code>JavaScript</code>. Les images <code>.jpg</code>, <code>.gif</code> ou <code>.png</code> sont compress√©es √† diff√©rents niveaux, comme expliqu√© plus loin dans cet article, cette librairie n‚Äôont donc aucun effet sur elles.</p> <p>La mise en place demande 3 √©tapes :</p> <ol> <li>Aller sur le projet <a href="https://github.com/h5bp/html5-boilerplate/blob/master/dist/.htaccess#L499">GitHub HTML5Boilerplate</a>.</li> <li>Copier le contenu <code>mod_deflate</code> du fichier <code>.htaccess</code>,</li> <li>et le coller sur votre serveur.</li> </ol> <h3 id=mettre-les-ressources-en-cache>Mettre les ressources en cache</h3> <p>Si votre site est correctement architectur√©, les mises √† jours des ressources <code>CSS</code>, <code>JavaScript</code> et images sont moins fr√©quentes que le contenu. Dans un contexte mobile nous pouvons t√©l√©charger ces ressources statiques en une seule fois, et les mettre en cache sur l‚Äôappareil.</p> <ul> <li>Moins de requ√™tes http seront effectu√©es.</li> <li>Le contenu total √† t√©l√©charger est diminu√©.</li> </ul> <p>De cette fa√ßon, pour les futures visites, l‚Äôexp√©rience de navigation sera incroyablement plus rapide et donc meilleure. L‚Äôastuce consiste √† utiliser les ent√™tes d‚Äôexpiration avec une date adapt√©e.</p> <p>Il n‚Äôest pas conseill√© de sp√©cifier une dur√©e inf√©rieure √† 1 mois et sup√©rieure √† un an. Si vous changez r√©guli√®rement une ressource vous pouvez :</p> <ul> <li>Sp√©cifier et identifier cette ressource dans votre fichier <code>.htaccess</code>.</li> <li>Modifier le nom du fichier, qui est une bien meilleure solution car cela donnera naissance √† une nouvelle requ√™te http.</li> </ul> <p>La mise en place demande 3 √©tapes :</p> <ol> <li>Aller sur le projet <a href="https://github.com/h5bp/html5-boilerplate/blob/master/dist/.htaccess#L563">GitHub HTML5Boilerplate</a>.</li> <li>Copier le fichier <code>.htaccess</code>, pour la partie <code>mod_expires</code>,</li> <li>et le coller sur votre serveur.</li> </ol> <p>La plus grande limite de cette technique est la taille du cache des appareils mobiles. Un site web simple doit peser en moyenne 2Mo, le cache des appareils Android 2.x est limit√© √† 6Mo, les appareils iOS sont plus avantag√©s avec un cache de 50Mo.</p> <p>Pour contourner ce probl√®me nous pouvons mettre en place une fonctionnalit√© en utilisant l‚ÄôAPI HTML5 <code>localStorage</code> mais pour cela il faut √™tre guru de la performance.</p> <h2 id=hacker-de-la-performance>Hacker de la performance</h2> <p>La compression et la mise en cache des fichiers sont de bonnes pratiques mais ce n‚Äôest que la base. Pour avoir un <strong>r√©el impact sur la performance</strong> et offrir une exp√©rience optimis√©e √† vos utilisateurs vous allez devoir travailler plus. Les techniques de cette partie permettent de :</p> <ul> <li>R√©duire le poids de vos pages.</li> <li>R√©duire le nombre de requ√™tes √† votre serveur, et donc la latence.</li> <li>Afficher du contenu √† la demande.</li> </ul> <p>Les techniques de minification et de concat√©nation devraient √™tres mises en places lors de d√©ploiement dans des environnements de test / production. Elles ne sont pas vraiment utiles si vos mises √† jours sont fr√©quentes et multiples.</p> <h3 id=mettre-vos-fichiers-au-rgime>Mettre vos fichiers au r√©gime.</h3> <p>Minifier votre code source signifie simplement supprimer les octets inutiles d‚Äôun fichier (espaces, indentation et saut de ligne). Cette syntaxe est indispensable pour qu‚Äôun humain comprenne, mais elle n‚Äôest pas n√©cessaire pour l'√©x√©cution du code sur une machine.</p> <blockquote> <p>Le code source est √©crit pour les humains, pas pour les machines</p> <p><cite>@drublic</cite></p> </blockquote> <p>Avec la minification le navigateur t√©l√©charge moins de contenu, le rendu de votre page est donc plus rapide.</p> <p>Si vous utilisez une librairie populaire comme jQuery vous utilisez certainement la version <code>.min</code>. La minification n‚Äôest pas seulement disponible pour le JavaScript, mais peut √™tre appliqu√©e √† n‚Äôimporte quelle type de ressource texte. L'<code>asset</code> principale qui doit √™tre minifi√©e dans un code de production est le CSS. La plus vieille solution pour r√©aliser cette op√©ration est <a href="http://yui.github.io/yuicompressor/">YUI Compressor</a> de yahoo! Si vous √™tes un <a href="http://davidl.fr/manifesto.html">d√©veloppeur front-end √©clair√©</a> essayez de chercher du c√¥t√© des t√¢ches grunt pour automatiser cette op√©ration.</p> <h3 id=la-concatnation--un-fichier-pour-les-gouverner-tous>La concat√©nation : un fichier pour les gouverner tous</h3> <p>Si le p√®re de la performance est la minification, la concat√©nation des fichiers est sans doute la m√®re. Par exemple : au lieu de t√©l√©charger 10 fichiers JavaScripts qui demandent 10 requ√™tes http au serveur, les utilisateurs devraient t√©l√©charger seulement 4 fichiers qui repr√©sentent la combinaison de ces 10 fichiers.</p> <p>Apr√®s les <code>mod_expires</code>, la concat√©nation est la meilleure option √† mettre en place pour fluidifier la navigation sur mobile. Malheureusement la pratique est plus complexe que la th√©orie.</p> <p>En moyenne un navigateur peut t√©l√©charger 6 fichiers en parall√®le. Comme la minification YUI est un bon outil pour concat√©ner vos fichiers. Dans un environement ruby c‚Äôest l'<code>asset pipeline</code> qui se charge du boulot, en php c‚Äôest <a href="https://github.com/filamentgroup/quickconcat">quickconcat</a>. Vous pouvez aussi <a href="http://blog.carbonfive.com/2014/05/05/roll-your-own-asset-pipeline-with-gulp/">construire votre propre asset pipeline avec gulp</a></p> <h3 id=optimisation-des-images>Optimisation des images</h3> <p>Les images sont les √©l√©ments qui prennent le plus de place. En moyenne, c‚Äôest plus de 60% dans le poids d‚Äôune page. C‚Äôest √† chacun, d√©veloppeur comme designer, d‚Äôoptimiser le poids des images. Le processus se fait en plusieurs √©tapes :</p> <h4 id=choisir-le-format-adapt>1. Choisir le format adapt√©</h4> <p><code>.png</code> pour les aplats de couleurs, <code>.jpg</code> pour les photographies. N‚Äôenregistrez <strong>jamais</strong> vos images dans la qualit√© la plus haute mais essayez de trouver le bon compromis entre qualit√© / poids.</p> <p><img src="https://farm3.staticflickr.com/2901/14256724273_85583d2db6_o.png" alt="Enregistrement .jpg progressif avec Photoshop"/></p> <p><em>Avec Photoshop <code>fichier</code> &gt; <code>enregistrer pour le web</code></em></p> <p>N‚Äôoubliez pas de cocher la case <strong>jpg progressif</strong>, cette technique utilis√©e pour les d√©bits lents √† l'√©poque du 56k prends tout son sens aujourd‚Äôhui dans un <a href="http://calendar.perfplanet.com/2012/progressive-jpegs-a-new-best-practice/">contexte de navigation mobile</a>.</p> <h4 id=supprimer-les-informations-inutiles>2. Supprimer les informations inutiles</h4> <p>Pour gagner quelques octets suppl√©mentaires il est possible de supprimer d‚Äôautres informations encapsul√©es dans les images (m√©tadonn√©es, informations de claques, ‚Ä¶) Cette op√©ration peut se faire tr√®s facilement avec des logiciels comme :</p> <ul> <li><a href="http://imageoptim.com/">imgOptim</a> pour macOS</li> <li><a href="http://pnggauntlet.com/">pngGauntlet</a> pour windows</li> </ul> <p>Si vous souhaitez en savoir plus sur l‚Äôoptimisation des images, je vous invite chaudement √† lire les articles de Serguey Chikuyonok‚Äôs sur l‚Äôoptimisation intelligente des images <code>.png</code> et <code>.jpg</code></p> <ul> <li><a href="http://www.smashingmagazine.com/2009/07/15/clever-png-optimization-techniques/">Optimiser ses images png</a></li> <li><a href="http://www.smashingmagazine.com/2009/07/01/clever-jpeg-optimization-techniques/">Optimiser ses fichiers jpg</a></li> </ul> <h4 id=automatiser-la-tche>3. Automatiser la t√¢che</h4> <p>Avec la puissance de node et <a href="https://github.com/JamieMason/ImageOptim-CLI">ImageOptim-CLI</a> il est possible d‚Äôautomatiser tout ce processus pour vous permettre de gagner un temps consid√©rable.</p> <div class=highlight><pre class="highlight shell"><code>  npm install <span class="nt">-g</span> imageoptim-cli
</code></pre></div> <h4 id=lazy-loading-dimages>4. Lazy Loading d‚Äôimages</h4> <p>Comme me l‚Äôa fait remarqu√© <a href="https://twitter.com/gaelmetais">@gaelmetais</a>, expert en performance web, la solution qui donne les meilleurs r√©sultats est le lazy loading d‚Äôimages. Cette solution <a href="https://github.com/vvo/lazyload">JavaScript disponible sur github</a> permet de ne charger que les images visible du <code>viewport</code>. Cela √©vite de t√©l√©charger inutilement des images qui ne sont probablement jamais vues par les visiteurs.</p> <h3 id=reporter-le-chargement-du-contenu>Reporter le chargement du contenu</h3> <p>Toutes les techniques pr√©c√©dentes, ormis la concat√©nation, vous aiderons √† r√©duire la taille de vos pages. Une autre approche est de prioriser le chargement de votre contenu.</p> <p>La performance n‚Äôaugmentera pas, c‚Äôest le sentiment de vitesse que ressentira l‚Äôutilisateur qui doit √™tre perceptible. Le moyen le plus simple de retarder le chargement d‚Äôun fichier JavaScript en utilisant l‚Äôattribut HTML5 <code>defer</code> ou <code>async</code>.</p> <div class=highlight><pre class="highlight html"><code>  <span class="nt">&lt;script </span><span class="na">defer</span> <span class="na">src=</span><span class="s">"application.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">async</span> <span class="na">src=</span><span class="s">"application.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div> <p>D‚Äôun point de vue latence et performance ces attributs se comportent de fa√ßon similaire. Ils demandent au navigateur d'√©x√©cuter les scripts seulement apr√®s avoir t√©l√©charg√© l‚Äôint√©gralit√© du contenu de la page.</p> <p>Vous devez vous poser la question : quel priorit√© dois-je utiliser ?</p> <h4 id=defer-charge-les-scripts-dans-lordre-dappel><code>defer</code> charge les scripts dans l‚Äôordre d‚Äôappel</h4> <p>Supposons que vous chargez la librairie jQuery ainsi qu‚Äôun autre fichier de plug-in. Ces 2 fichiers sont d√©pendant car le second script doit √™tre charg√© <em>apr√®s</em> le premier.</p> <h4 id=async-le-chargement-de-lordre-des-fichiers-na-aucune-importance><code>async</code> le chargement de l‚Äôordre des fichiers n‚Äôa aucune importance</h4> <h2 id=guru-de-la-performance>Guru de la performance</h2> <p>Les geeks et les hackers de la performance utilisent des techniques d‚Äôoptimisation traditionnelles pour la construction de sites internet, bien avant l‚Äôapparition du responsive design.</p> <p>Les techniques de guru peuvent √™tres mises en place pour des applications web HTML5 avec un focus pour les navigateurs mobiles. Elles permettent de :</p> <ul> <li>R√©duire le poids de vos pages.</li> <li>R√©duire le nombre de requ√™tes http, et donc la latence.</li> <li>Optimiser le chargement du contenu pour √™tre utilis√© plus rapidement.</li> </ul> <div class="alert-box alert"> Le principal d√©savantage est le support des navigateurs </div> <p>Dans certains cas il ne sera pas possible de garantir le r√©sultat sur de vieux navigateurs. N‚Äôh√©sitez pas √† v√©rifier les diff√©rentes fonctionnalit√©s sur le site <a href="http://caniuse.com">caniuse</a>.</p> <h3 id=ordre-des-sources>Ordre des sources</h3> <p>Curieusement organiser correctement votre CSS et vos fichiers JavaScript peut avoir un large impact sur le ressenti de la rapidit√© de chargement.</p> <blockquote> <p>JavaScript bloque le chargement de votre contenu</p> <p><cite><a href="/manifesto.html">Manifeste d‚Äôun d√©veloppeur front-end</a></cite></p> </blockquote> <p>Voici un tr√®s mauvais exemple que je rencontre quotidiennement :</p> <div class=highlight><pre class="highlight html"><code>    <span class="nt">&lt;head&gt;</span>
      <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
      <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"small.css"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"big.css"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
</code></pre></div> <p>Vous ne devez <strong>JAMAIS</strong> faire cela. Le JavaScript bloque t√©l√©chargement des autres ressources en parall√®le comme les images. Sauf exception votre JavaScript doit toujours √™tre appel√© uniquement avant la fin du <code>&lt;/body&gt;</code></p> <h3 id=localstorage-comme-cache-navigateur><code>localStorage</code> comme cache navigateur</h3> <p><code>localStorage</code> est une sp√©cification du W3C. Cette technologie est comparable aux cookies utilis√©s par les d√©veloppeurs pour stocker des informations de type clef / valeur. Elles sont sauvegard√©es m√™me si le navigateur est ferm√©. Contrairement aux cookies les informations associ√©es au <code>localStorage</code> ne sont jamais renvoy√©es au serveur depuis le client.</p> <p>Voici un exemple assez basique : utiliser <code>localStorage</code> pour mettre en cache jQuery</p> <div class=highlight><pre class="highlight html"><code>    <span class="nt">&lt;--</span> <span class="na">Script</span> <span class="na">tag</span> <span class="na">that</span> <span class="na">will</span> <span class="na">hold</span> <span class="na">jQuery</span> <span class="na">--</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script </span><span class="na">id=</span><span class="s">"js-jquery"</span><span class="nt">&gt;&lt;/script&gt;</span>

    <span class="nt">&lt;--</span> <span class="na">Determine</span> <span class="na">if</span> <span class="na">jQuery</span> <span class="na">should</span> <span class="na">be</span> <span class="na">loaded</span> <span class="na">from</span> <span class="na">localStorage</span> <span class="na">or</span> <span class="na">the</span> <span class="na">server</span> <span class="na">--</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script&gt;</span>
      <span class="kd">var</span> <span class="nx">jqFile</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="s1">'jqFile'</span> <span class="k">in</span> <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 1. The script is already stored</span>
        <span class="nx">jqFile</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">'jqFile'</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// 2. not present, AJAX request to get the data</span>
        <span class="nx">jqFile</span> <span class="o">=</span> <span class="nx">getJQFile</span><span class="p">();</span>
        <span class="c1">// push the data into localStorage</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">'jqFile'</span><span class="p">,</span><span class="nx">jqFile</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="c1">// 3. Insert JavaScript into the script element</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'js-jquery'</span><span class="p">).</span><span class="nx">text</span> <span class="o">=</span> <span class="nx">jqFile</span><span class="p">;</span>
    <span class="nt">&lt;/script&gt;</span>
</code></pre></div> <ol> <li>V√©rifier si le fichier existe</li> <li>Charger le contenu en AJAX</li> <li>Ins√©rer le contenu dans la page avec <code>js-jquery</code></li> </ol> <p>Il faut noter que <code>localStorage</code> ne fonctionne qu‚Äôavec des <code>string</code>. Si vous souhaiter utiliser cette m√©thode pour stocker des images, vous devez les parser en base64 d‚Äôabord.</p> <p><code>localStorage</code> est une solution assez facile √† mettre en place pour des choses basiques. Si vous souhaitez aller plus loin je vous conseille d‚Äôessayer <a href="https://github.com/addyosmani/basket.js">basket.js</a> maintenu par Addy Osmani qui permet de prioriser le chargement du JavaScript en cache.</p> <h3 id=lazy-loading-javascript>Lazy loading JavaScript</h3> <p>Si votre application web / site internet embarque beaucoups de JavaScript il peut √™tre int√©ressant de d‚Äôutiliser des techniques de <em>lazy loading</em> pour r√©duire le temps de d√©marrage.</p> <p>Quand un navigateur t√©l√©charge du JavaScript, il le <strong>parcours et l‚Äôex√©cute</strong>. Comme expliqu√© pr√©c√©demment, cela bloque le rendu de la page jusqu'√† ce que le processus soit termin√©. Dans la plupart des cas, vous n‚Äôavez s√ªrement pas besoin que tout votre JavaScript soit parcouru et ex√©cut√© au chargement de la page. Cela porte pr√©judice √† la performance sans raison valable.</p> <p>Il existe 2 techniques pour corriger le probl√®me :</p> <ol> <li>Modifier le script pr√©c√©demment utilis√© pour <code>localStorage</code> en utilisant JavaScript pour ins√©rer du JavaScript.</li> <li>Utiliser <code>XmlHttpRequest</code> pour <strong>t√©l√©charger et √©valuer</strong> le code. Le principal probl√®me est que si l‚Äôutilisateur essaye d‚Äôutiliser une fonctionnalit√© qui n‚Äôest pas encore t√©l√©charg√© cela risque de "casser" la mise en page.</li> </ol> <p>L'√©quipe qui s‚Äôoccupe de Gmail a trouv√© une solution pour que le code ne soit pas ex√©cut√© : <a href="http://googlecode.blogspot.de/2009/09/gmail-for-mobile-html5-series-reducing.html">commenter le code</a>.</p> <p>Le navigateur t√©l√©charge et √©value l‚Äôint√©gralit√© de votre JavaScript, mais comme ce dernier est comment√©, il n‚Äôest pas ex√©cut√©. Cette m√©thode lib√®re du CPU pour effectuer d‚Äôautres op√©rations. Quand l‚Äôutilisateur a besoin d‚Äôune fonctionnalit√©, une partie du code est d√©comment√©e et √©valu√©e. Voici un exemple :</p> <div class=highlight><pre class="highlight html"><code>    <span class="nt">&lt;html&gt;</span>
    ‚Ä¶
    <span class="nt">&lt;script </span><span class="na">id=</span><span class="s">"js-module-lazy"</span><span class="nt">&gt;</span>
    <span class="cm">/*
      JavaScript commented code
    */</span>
    <span class="nt">&lt;/script&gt;</span>

    <span class="nt">&lt;script&gt;</span>
      <span class="kd">function</span> <span class="nx">lazyLoad</span><span class="p">(){</span>
        <span class="kd">var</span> <span class="nx">lazyElement</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'js-module-lazy'</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">lazyElementContent</span> <span class="o">=</span> <span class="nx">lazyElement</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">jsCode</span> <span class="o">=</span> <span class="nx">stripOutCommentBlock</span><span class="p">(</span><span class="nx">lazyElementContent</span><span class="p">);</span>
        <span class="kr">eval</span><span class="p">(</span><span class="nx">jsCode</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="nt">&lt;/script&gt;</span>

    <span class="nt">&lt;button</span> <span class="na">onclick=</span><span class="s">"lazyLoad()"</span><span class="nt">&gt;</span>Lazy load feature<span class="nt">&lt;/button&gt;</span>

    <span class="nt">&lt;/html&gt;</span>
</code></pre></div> <p>Cette technique est complexe √† mettre en place car votre architecture JavaScript doit √™tre irr√©prochable.</p> <h3 id=le-cas-des-boutons-sociaux>Le cas des boutons sociaux</h3> <p>Fin 2011, le magazine Allemand Heise a publi√© un nouvel ensemble d‚Äô<a href="http://www.heise.de/extras/socialshareprivacy/">ic√¥nes pour les r√©seau sociaux</a> tr√®s connu. La diff√©rence ? Il faut 2 clics pour ‚Äúaimer‚Äù, ‚Äútweeter‚Äù ou ajouter ‚Äú+1‚Äù.</p> <p>De base les images des icones sont charg√©es. Si l‚Äôutilisateur souhaite partager, alors les widgets de partage sont t√©l√©charg√©s. Cette solution pr√©sente de nombreux avantages non n√©gligeables.</p> <ol> <li>Les utilisateurs ne sont pas constamment track√©s. Les widgets ne sont activ√©s que si l‚Äôutilisateur le demande et non par d√©faut.</li> <li>Extr√®mement efficace avec du responsive design.</li> </ol> <p><img src="https://farm3.staticflickr.com/2898/14050189350_521f32f74f_o.png" alt="Image zurb webcitation"/> <em><a href="http://zurb.com/article/883/small-painful-buttons-why-social-media-bu">Pourquoi les boutons sociaux tuent votre site web ?</a></em></p> <p>De plus vous ne t√©l√©chargez que ce qui est n√©cessaire. Si un utilisateur n‚Äôest actif que sur twitter, l‚Äôobliger √† t√©l√©charger le widget facebook n‚Äôa pas de sens, et cela lui √©vite un temps de latence en supprimant les requ√™tes http inutiles.</p> <h3 id=utiliser-des-sprites-pour-concatner-vos-images>Utiliser des sprites pour concat√©ner vos images</h3> <p>Les fichiers CSS et JavaScript ne sont pas les seuls √† pouvoir √™tres combin√©s pour r√©duire le nombre de requ√™tes. Utilis√©s g√©n√©ralement pour des icones ou de petites illustrations, la technique des sprites CSS est une bonne solution.</p> <p>Essayez de regrouper des images partageant la m√™me palette de couleur. Si ce n‚Äôest pas le cas la taille de votre fichier sera anormalement √©lev√©e car il sera sauvegard√© au format PNG <code>true color</code> au lieu du classique PNG 256 couleurs. Pour √©viter une requ√™te avec des images de petite taille, vous pouvez aussi encoder le r√©sultat obtenu en base64 pour optimiser encore plus la taille de votre fichier (√† prendre avec pr√©caution car cela peut augementer la taille jusqu'√† 37%).</p> <ul> <li><a href="http://www.base64-image.de/">base64</a> pour encoder vos images</li> <li>Un outil CSS : <a href="http://spriteme.org/">SpriteMe</a></li> </ul> <h3 id=viter-le-calcul-navigateur-aka-browser-reflow>√âviter le calcul navigateur aka browser reflow</h3> <p>Une fonctionnalit√© peu connue des d√©veloppeurs en terme de performance est la construction d‚Äôune page web dans une fen√™tre de navigateur. Des probl√®mes de performance apparaissent d√®s que l‚Äôon essaye de trop modifier dynamiquement la mise en page. Cela force le navigateur √† recalculer la place des objets tout en chargeant la page, ce qui ralenti le rendu de la page.</p> <p><img src="https://farm6.staticflickr.com/5524/14234276822_25ce57d1cd_o.gif" alt="CSS image reflow"/></p> <p>La chose la plus importante pour limiter le nombre de "reflow" est de limiter la taille du DOM et le nombre de s√©lecteurs CSS le plus possible. Moins le DOM contient d'√©l√©ments, moins d‚Äôobjets doivent √™tres calcul√©s et positionn√©s pendant la construction de la page et plus elle se chargera vite. Je ne le r√©p√©terai jamais assez :</p> <blockquote> <p>JavaScript est pour le comportement, CSS pour le style.</p> </blockquote> <p>C‚Äôest pourquoi vous ne devez <strong>JAMAIS</strong> modifier vos √©l√©ments avec du JavaScript.</p> <div class="alert-box alert"> <i class="fa fa-thumbs-o-down"></i> Mauvaise solution </div> <div class=highlight><pre class="highlight javascript"><code>    <span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'js-box'</span><span class="p">);</span>
    <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="s2">"#fff"</span><span class="p">;</span>
    <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s2">"#000"</span><span class="p">;</span>
    <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">borderColor</span> <span class="o">=</span> <span class="s2">"#fc0"</span><span class="p">;</span>
</code></pre></div> <p>Chaque d√©claration provoque un calcul. Dans notre cas il y a 3 reflow.</p> <div class="alert-box success"> <i class="fa fa-thumbs-o-up"></i> Bonne solution </div> <div class=highlight><pre class="highlight javascript"><code>    <span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'js-box'</span><span class="p">);</span>
    <span class="nx">el</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s2">"m-box"</span><span class="p">;</span>
</code></pre></div> <p>1 seul reflow. Le style est d√©clar√© √† sa place : dans une feuille de style et vous n‚Äôaurez pas besoin d‚Äôutiliser <code>!important</code> si votre √©l√©ment change.</p> <p>Les calculs sont aussi impact√©s par l‚Äôajout d'√©lements au DOM.</p> <p><img src="https://farm3.staticflickr.com/2922/14234595522_c68157e017_o.jpg" alt="Border image reflow"/> <em>Il y a le bon :hover et le mauvais :hover</em></p> <p>Pour aller plus loin et comprendre le fonctionnement d‚Äôun navigateur web je vous invite √† regarder l‚Äôexcellente pr√©sentation de <a href="https://www.youtube.com/watch?v=enKJMUArlV4">Paul Rouget d√©veloppeur chez Mozilla</a>. Ou encore le projet <a href="https://github.com/janjongboom/css-reflow-tracer">css-reflow-tracer</a>.</p> <h3 id=sur-mobile-toucher-est-meilleur-que-cliquer>Sur mobile toucher est meilleur que cliquer</h3> <p>L‚Äôimpression de rapidit√© et la performance sont 2 choses diff√©rentes.</p> <p>Connaissez-vous le c√©l√®bre d√©lai des 300ms impl√©ment√© par tous les appareils mobiles ? Ce d√©lai permet aux utilisateurs d‚Äôavoir le temps d‚Äôeffectuer un double-tap. Dans certains cas il n‚Äôest pas n√©cessaire et pour retirer ce d√©lai il existe des solutions :</p> <ul> <li><a href="https://developers.google.com/mobile/articles/fast_buttons">Comment cr√©er des boutons rapides</a> ?</li> <li>Le polyfill <a href="https://github.com/ftlabs/fastclick">Fastclic.js</a></li> </ul> <h3 id=aller--lessentiel-et-supprimer-les-normes-frameworks>Aller √† l‚Äôessentiel et supprimer les √©normes frameworks</h3> <p>JavaScript n‚Äôest pas le seul responsable dans l‚Äôexplosion du poids des pages web, notamment depuis que l‚Äôinternet se <a href="http://getbootstrap.com">bootstrapize</a>. Le framework bootsrap de twitter est une excellente solution mais utilisez ses composants avec partimonie. Pr√©f√©rez lui une solution plus l√©g√®re comme Foundation ou encore KNACSS. Vous pouvez aussi envisager de construire votre propre grille avec <a href="http://susy.oddbird.net/">Suzy</a> et cr√©er vos propres composants.</p> <p>Il est facile d‚Äôinclure dans votre projet des librairies comme jQuery ou mootools, et d‚Äôy ajouter une myriade de plugins. En tant que d√©veloppeurs nous devons nous poser la question de ce qui est vraiment utile. Si vous utiliser jQuery seulement comme outil de s√©lection <code>$('element')</code> regardez du cot√© de <a href="https://github.com/chjj/zest">Zest</a> ou <a href="https://github.com/ded/qwery">qwery</a>. Ces micro framework JavaScript sont sp√©cialement cr√©es pour √ßa et leur taille est d‚Äôenviron 11ko compar√© √† plus de 90ko.</p> <p>Comme expliqu√© pr√©c√©demment, quand un navigateur t√©l√©charge jQuery, il doit parcourir le fichier. Cela demande du temps et bloque le rendu de la page. Soyez critique quand vous analysez vos besoins en JavaScript. 11ko c‚Äôest peut-√™tre 11ko de trop si la seule chose dont vous avez besoin est <code>document.getElementByTagName('foo')</code>.</p> <h2 id=la-performance-comme-budget>La performance comme budget</h2> <p>G√©n√©ralement la performance ne fait pas l‚Äôobjet d‚Äôun budget pour un projet web. Mais tout comme les cr√©ateurs de jeux vid√©os qui ont une limite dans le nombre de polygones affich√©s √† l'√©cran, les d√©veloppeurs devraient imposer une limite de taille pour all√©ger le poids des sites internets.</p> <p>Si votre client est r√©sistant √† se soucier de la performance, voici une petite astuce qui fonctionne :</p> <ol> <li>S√©lectionner deux sites (au hasard le site web du client ainsi qu‚Äôun concurrent)</li> <li>pr√©chargez / precachez le site du concurrent en dur dans le cache (avec <code>localStorage</code>)</li> <li>et l‚Äôex√©cuter en comparant le site internet du client non mise en cache.</li> </ol> <p>Personne ne veut attendre et les gens sont impatient, √† partir du moment o√π le client comprendra la diff√©rence, il voudra un site web rapide, et investira pour avoir une bonne performance.</p> <p>C‚Äôest culott√©, mais cette m√©thode permet de d√©montrer l‚Äôimportance de la performance. Je ne pense pas que cette fa√ßon de faire soit diff√©rente des publicicit√©s t√©l√©vis√©es que l‚Äôon voit √† longeur de journ√©e.</p> <p>Pour aller plus loin, vous pouver cr√©ez un graphique comparatif du temps de chargement contre le trafic en temps r√©el, le client verra la corr√©lation entre les deux. De nombreuses d√©cisions devront √™tre r√©examin√©es dans le but d‚Äôune meilleure performance, je crois que c‚Äôest une tr√®s, tr√®s bonne chose !</p> <div class=callout-share><p class=article-title>Performance site internet : Astuces et bonnes pratiques</p><div class=row><div class="small-6 columns"><a href="//twitter.com/intent/tweet?text=Performance%20site%20internet%20:%20Astuces%20et%20bonnes%20pratiques+@_flexbox+https://davidl.fr/blog/site-obese.html" class="button large expanded button-tweet" target=_blank><i class='fa fa-fw fa-twitter' aria-hidden=true></i>Tweet</a></div><div class="small-6 columns"><a href="http://www.facebook.com/sharer/sharer.php?u=https://davidl.fr/blog/site-obese.html" class="button large expanded button-facebook" target=_blank><i class='fa fa-fw fa-facebook' aria-hidden=true></i>Post</a></div></div></div></div></div></div></article></div></div><div class=footer-navigation><div class="row align-center"><div class="medium-10 columns"><nav class=row role=navigation><div class="small-6 medium-3 columns"><ul class=footer-links role=menubar><li class=title>Apprendre</li><li role=menuitem><a href="http://courses.davidl.fr/programs/">Formations</a></li><li role=menuitem><a href="http://courses.davidl.fr/programs/" title="Conf√©rences et retours d‚Äôexp√©rience">Talks</a></li><li role=menuitem><a href="/workflow/">Guides</a></li></ul></div><div class="small-6 medium-3 columns"><ul class=footer-links role=menubar><li class=title>Open Source</li><li role=menuitem><a href="http://guidecss.fr" title="Comment architecturer de larges applications web">Guide CSS</a></li><li role=menuitem><a href="https://github.com/flexbox/codeless" title="G√©n√©rateur de site statique">Middleman template</a></li><li role=menuitem><a href="https://github.com/flexbox" title="Projet open source sur GitHub">More‚Ä¶</a></li></ul></div><div class="small-6 medium-3 columns"><ul class=footer-links role=menubar><li class=title>√Ä propos</li><li role=menuitem><a href="/about.html" title="Je peux vous aider">En savoir plus</a></li><li role=menuitem><a href="/manifesto.html" title="Mes engagements envers le web">Manifeste</a></li><li role=menuitem><a href="/cv.html" title="Mes engagements envers le web">CV</a></li></ul></div><div class="small-6 medium-3 columns"><ul class=footer-links role=menubar><li class=title>Contact</li><li role=menuitem><a href="/contact.html" title="Je lis TOUS mes emails">Contact</a></li><li role=menuitem><a href="/learn/newsletter.html" title="Suivre l‚Äô√©volution de mes services">Newsletter</a></li><li role=menuitem><a href="/gifts.html">Cadeaux</a></li></ul></div></nav></div></div></div><footer class=footer role=contentinfo><div class="row align-center"><div class="medium-8 columns"><p class=title-subscribe>Am√©liorer vos comp√©tences jusqu‚Äôau prochain niveau </p><p>Vous √™tes pr√™t √† aller au-del√† de la construction de site internet de base. Vous connaissez les technologies web et vous souhaitez maitriser les techniques que les d√©veloppeurs senior utilisent ?</p><form action="//davidl.us3.list-manage.com/subscribe/post?u=b72e60a9116993dde8d1547fe&amp;id=e99fbeb8ad" method=post name=mc-embedded-subscribe-form target=_blank><div class=row><div class="small-12 columns"><label for=js-mailchimpemail>Abonnez-vous et commencez votre voyage pour devenir un expert </label></div></div><div class="row expanded"><div class="small-8 columns"><input autocapitalize=none autocorrect=off class=m-mailchimpemail id=js-mailchimpemail name=EMAIL placeholder="youare@weso.me" required="" type=email /><div class=hide><input name=b_b72e60a9116993dde8d1547fe_e99fbeb8ad type=text /></div></div><div class="small-4 columns"><button class="button postfix" id=mc-embedded-subscribe name=subscribe type=submit>Apprendre </button></div></div></form><div class=colophon><p><small>Derni√®re mise √† jour le <time datetime=2017-09-26>26/09/2017</time></small></p></div></div></div></footer><script src="https://code.jquery.com/jquery-2.2.4.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.1/js/foundation.min.js"></script><script src="../assets/javascripts/application-10720146.js"></script><script>(function() { var qs, js, q, s, d = document, gi = d.getElementById, ce = d.createElement, gt = d.getElementsByTagName, id = "typef_orm_share", b = "https://s3-eu-west-1.amazonaws.com/share.typeform.com/"; if (!gi.call(d, id)) { js = ce.call(d, "script"); js.id = id; js.src = b + "share.js"; q = gt.call(d, "script")[0]; q.parentNode.insertBefore(js, q) } })()</script></body></html>